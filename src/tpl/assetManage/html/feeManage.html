<div class="bg-light lter b-b wrapper">
    <h1 class="m-n font-thin h3">计费管理</h1>
</div>
<div class="wrapper-md">
    <div class="panel panel-default">
        <div class="wrapper">
            <div class="filter-condition clearfix pad-b-20">
                <div class="condition-top clearfix">
                    <div class="con-left">
                        <div class="group">
                            <label>创建时间：</label>
                            <input id="from" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.createStart"  class="inp small"/>
                            <span class="mg-10">至</span>
                            <input id="to" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.createEnd" class="inp small"/>
                        </div>
                        <div class="group">
                            <label>手机号码：</label>
                            <input id="city" placeholder="请输入手机号码" data-ng-model="search.contractPersonPhone" type="text"
                                   class="inp larger"/>
                        </div>
                        <div class="group">
                            <label>平台名称：</label>
                            <input id="platform" placeholder="请输入平台名称" data-ng-model="search.storeName" type="text"
                                   class="inp larger"/>
                        </div>
                        <div class="group">
                            <label>签约人：</label>
                            <input id="number" placeholder="请输入签约人" data-ng-model="search.contractPerson" type="text"
                                   class="inp larger"/>
                        </div>
                        <div class="con-bottom clearfix">
                            <a class="btn w-xs btn-info" data-ng-click="searchFunction()">筛选</a>
                            <a class="btn w-xs btn-default" data-ng-click="cancelSearch()">清空条件</a>
                        </div>
                    </div>
                    <div class="con-right">
                        <div class="group">
                            <label>修改时间：</label>
                            <input id="fromTime" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.updateStart"  class="inp small"/>
                            <span class="mg-10">至</span>
                            <input id="toTime" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.updateEnd" class="inp small"/>
                        </div>
                        <div class="group">
                            <label>签约时间：</label>
                            <input id="fromSign" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.contractStart"  class="inp small"/>
                            <span class="mg-10">至</span>
                            <input id="toSign" type="text" readonly="readonly" date-pick format="YYYY-MM-DD"
                                   data-ng-model="search.contractEnd" class="inp small"/>
                        </div>
                        <div class="group">
                            <label>计费规则：</label>
                            <select class="inp larger"
                                    data-ng-model="search.ruleType"
                                    data-ng-options="x.value as x.key for x in vm.types">
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mg-top-15">
                <button class="btn btn-sm btn-info"
                        data-ng-click="vm.clearStore()"
                        ui-sref="app.assetManage.addNewFee">新增计费</button>
                <button class="btn btn-sm btn-info mar-l-10" ui-sref="app.assetManage.editDefaultFee">编辑默认计费</button>
            </div>
            <table class="table mg-top-15">
                <thead>
                <tr>
                    <th class="text-left">平台名称</th>
                    <th>计费规则</th>
                    <th>签约人</th>
                    <th>签约时间</th>
                    <th>合同页面</th>
                    <th>合同生效日期</th>
                    <th>合同截止日期</th>
                    <th>创建人</th>
                    <th>最后操作人</th>
                    <th>创建日期</th>
                    <th>最近更新日期</th>
                    <th class="text-right">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="data in options.dataList">
                    <td class="text-left">{{data.storeName}}</td>
                    <td>
                        <span data-ng-if="data.ruleType == 0">默认</span>
                        <span data-ng-if="data.ruleType == 1">自定义</span>
                    </td>
                    <td>{{data.contractPerson}}</td>
                    <td>{{data.contractDate}}</td>
                    <td>
                        <div class="showImgsBox-left-tl pull-left fee-manage mar-l-20">
                            <div class="platform-managerImg mar-r-0" >
                                <span ng-click="vm.showBigImgBack()">查看合同页面</span>
                                <div class="bigImg" ng-click="vm.hideBigImgBack()"
                                     data-ng-class="{'display-block': vm.bigImgBack}">
                                    <img ng-src="{{data.contractUrl}}" alt="" style="height: 700px;">
                                    <span></span>
                                </div>
                            </div>
                        </div>
                        <!--<img class="img-weihight" ng-src="{{data.contractUrl}}">-->
                    </td>
                    <td>{{data.contractStart}}</td>
                    <td>{{data.contractEnd}}</td>
                    <td>{{data.createdBy}}</td>
                    <td>{{data.updatedBy}}</td>
                    <td>{{data.createdTime}}</td>
                    <td>{{data.updatedTime}}</td>
                    <td class="text-right">
                        <div class="buttons">
                            <a class="btn btn-sm btn-danger" ui-sref="app.assetManage.addNewFeeEdit({id:data.id})">编辑</a>
                            <a class="btn btn-sm btn-info" ui-sref="app.assetManage.feeManageDetail({id:data.id})">查看</a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
            <page-data options="options"></page-data>
        </div>

    </div>
</div>